{"version":3,"sources":["../../app-src/util/HttpService.js"],"names":["HttpService","_handleErrors","res","ok","Error","statusText","get","url","fetch","then","json"],"mappings":";;;;;;UAAaA,W,GAAN,MAAMA,WAAN,CAAkB;;AAEvBC,sBAAcC,GAAd,EAAmB;AACjB;AACA,cAAG,CAACA,IAAIC,EAAR,EAAY,MAAM,IAAIC,KAAJ,CAAUF,IAAIG,UAAd,CAAN;;AAEZ;AACA,iBAAOH,GAAP;AACD;;AAEDI,YAAIC,GAAJ,EAAS;;AAEP;;;;;;;;;;;;;;;;;;AAqBA;AACA,iBAAOC,MAAMD,GAAN,EACJE,IADI,CACCP,OAAO,KAAKD,aAAL,CAAmBC,GAAnB,CADR,EAEJO,IAFI,CAECP,OAAOA,IAAIQ,IAAJ,EAFR,CAAP;AAGD;AArCsB,O","file":"HttpService.js","sourcesContent":["export class HttpService {\r\n\r\n  _handleErrors(res) {\r\n    //se não estiver ok, lança a exceção\r\n    if(!res.ok) throw new Error(res.statusText);\r\n\r\n    //se nenhuma exceção foi lançada, retorna a própria resposta\r\n    return res;\r\n  }\r\n\r\n  get(url) {\r\n    \r\n    /* ** SEM UTILIZAR API Fetch **\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const xhr = new XMLHttpRequest();\r\n      \r\n      xhr.open('GET', url);\r\n\r\n      xhr.onreadystatechange = () => {\r\n        if(xhr.readyState == 4) {\r\n          if(xhr.status == 200) {\r\n            resolve(JSON.parse(xhr.responseText));\r\n          } else {\r\n            console.log(xhr.responseText);\r\n\r\n            reject(xhr.responseText);\r\n          }\r\n        }\r\n      };\r\n      xhr.send();\r\n    });*/\r\n\r\n    /* ** UTILIZANDO API Fetch ** */\r\n    return fetch(url)\r\n      .then(res => this._handleErrors(res))\r\n      .then(res => res.json());\r\n  }\r\n}"]}